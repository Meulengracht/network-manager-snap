2020-11-25 network-manager 1.10.6-9

  [ Alfonso Sanchez-Beato <alfonso.sanchez-beato@canonical.com> ]
  * Backport patches from other branches
    
    -Fix memory leaks introduced in snap patches
    -platform: use also statvfs() to check for udevd
    Merge-Proposal: https://code.launchpad.net/~alfonsosanchezbeato/snappy-hwe-snaps/+git/network-manager/+merge/394387

  [ Changes in primed packages ]
  
  libpcap0.8 (built from libpcap) updated from 1.8.1-6ubuntu1.18.04.1 to 1.8.1-6ubuntu1.18.04.2:
  
    libpcap (1.8.1-6ubuntu1.18.04.2) bionic; urgency=medium
  
      * Install pkg-config file for libpcap (LP: #1865501).
        - d/p/set-package-name-with-ac-init.patch: Set the PACKAGE_NAME
          variable using autoconf's AC_INIT macro, so that we can use it
          in the libpcap.pc.in file.
        - d/p/use-m4-macro-to-get-version.patch: Use an M4 macro to
          execute a "cat" command and obtain the version from the VERSION
          file.
        - d/p/install-pkg-config-file.patch: New patch from upstream,
          which creates a libpcap.pc.in file and adjusts the Makefile to
          install it.
        - d/libpcap0.8-dev.install: Install libpcap.pc pkg-config file.
          Thanks to Luca Boccassi for the Debian patch (Closes #922219).
  
     -- Sergio Durigan Junior <sergio.durigan@canonical.com>  Mon, 29 Jun 2020 17:49:04 -0400
  
  libldap-2.4-2 (built from openldap) updated from 2.4.45+dfsg-1ubuntu1.6 to 2.4.45+dfsg-1ubuntu1.8:
  
    openldap (2.4.45+dfsg-1ubuntu1.8) bionic-security; urgency=medium
  
      * SECURITY UPDATE: assertion failure in Certificate List syntax
        validation
        - debian/patches/CVE-2020-25709.patch: properly handle error in
          servers/slapd/schema_init.c.
        - CVE-2020-25709
      * SECURITY UPDATE: assertion failure in CSN normalization with invalid
        input
        - debian/patches/CVE-2020-25710.patch: properly handle error in
          servers/slapd/schema_init.c.
        - CVE-2020-25710
  
     -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Mon, 16 Nov 2020 08:40:57 -0500
  
    openldap (2.4.45+dfsg-1ubuntu1.7) bionic-security; urgency=medium
  
      * SECURITY UPDATE: DoS via NULL pointer dereference
        - debian/patches/CVE-2020-25692.patch: skip normalization if there's no
          equality rule in servers/slapd/modrdn.c.
        - CVE-2020-25692
  
     -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Wed, 04 Nov 2020 09:44:26 -0500
  
2020-08-24 network-manager 1.10.6-8

  [ Changes in primed packages ]
  
  libcurl3-gnutls (built from curl) updated from 7.58.0-2ubuntu3.9 to 7.58.0-2ubuntu3.10:
  
    curl (7.58.0-2ubuntu3.10) bionic-security; urgency=medium
  
      * SECURITY UPDATE: wrong connect-only connection
        - debian/patches/CVE-2020-8231.patch: remember last connection by id,
          not by pointer in lib/connect.c, lib/easy.c, lib/multi.c, lib/url.c,
          lib/urldata.h.
        - CVE-2020-8231
  
     -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Thu, 13 Aug 2020 13:38:57 -0400
  
  libldap-2.4-2 (built from openldap) updated from 2.4.45+dfsg-1ubuntu1.5 to 2.4.45+dfsg-1ubuntu1.6:
  
    openldap (2.4.45+dfsg-1ubuntu1.6) bionic; urgency=medium
  
      [ Andreas Hasenack ]
      * d/p/ITS-9171-Insert-callback-in-the-right-place.patch: Import upstream
        patch to fix slapd crashing in certain configurations when a client
        attempts a login to a locked account. (LP: #1866303)
  
      [ Sergio Durigan Junior ]
      * d/apparmor-profile: Update apparmor profile to grant access to
        the saslauthd socket, so that SASL authentication works.  (LP: #1557157)
  
     -- Andreas Hasenack <andreas@canonical.com>  Wed, 01 Jul 2020 16:38:55 -0300
  
  ppp (built from ppp) updated from 2.4.7-2+2ubuntu1.2 to 2.4.7-2+2ubuntu1.3:
  
    ppp (2.4.7-2+2ubuntu1.3) bionic-security; urgency=medium
  
      * SECURITY UPDATE: arbitrary file disclosure vulnerability
        - debian/patches/load_ppp_generic_if_needed: removed, ppp has been
          built into Ubuntu kernels since at least 2012.
        - CVE-2020-15704
  
     -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Thu, 23 Jul 2020 08:55:31 -0400
  
2020-06-25 network-manager 1.10.6-7

  [ Changes in primed packages ]
  
  libcurl3-gnutls (built from curl) updated from 7.58.0-2ubuntu3.8 to 7.58.0-2ubuntu3.9:
  
    curl (7.58.0-2ubuntu3.9) bionic-security; urgency=medium
  
      * SECURITY UPDATE: curl overwrite local file with -J
        - debian/patches/CVE-2020-8177.patch: -i is not OK if -J is used in
          src/tool_cb_hdr.c, src/tool_getparam.c.
        - CVE-2020-8177
  
     -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Wed, 17 Jun 2020 09:19:29 -0400
  
2020-05-07 network-manager 1.10.6-6

  [ Changes in staged packages ]
  
  libldap-2.4-2 (built from openldap) updated from 2.4.45+dfsg-1ubuntu1.4 to 2.4.45+dfsg-1ubuntu1.5:
  
    openldap (2.4.45+dfsg-1ubuntu1.5) bionic-security; urgency=medium
  
      * SECURITY UPDATE: denial of service via nested search filters
        - debian/patches/CVE-2020-12243.patch: limit depth of nested filters in
          servers/slapd/filter.c.
        - CVE-2020-12243
  
     -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Fri, 01 May 2020 13:11:02 -0400
  
2020-04-07 network-manager 1.10.6-5

  [ Alfonso Sanchez-Beato <alfonso.sanchez-beato@canonical.com> ]
  * snap: update to newer NM deb package
    snap: set dnsmasq path to the one in the snap
    Merge-Proposal: https://code.launchpad.net/~alfonsosanchezbeato/snappy-hwe-snaps/+git/network-manager/+merge/380836
  * Flush IPs of devices we are taking control of in the wrapper, after
    calling netplan apply and before starting NetworkManager. netplan
    leaves IPs configured by networkd around and that confuses
    NetworkManager. This is a workaround until LP:#1870561 is fixed. As
    we are using the 'ip' command for this, we need to add network-observe
    to the list of interfaces we want.
    Merge-Proposal: https://code.launchpad.net/~alfonsosanchezbeato/snappy-hwe-snaps/+git/network-manager/+merge/381733

  [ Changes in staged packages ]
  
  libnm0, network-manager (built from network-manager) updated from 1.10.6-2ubuntu1.2 to 1.10.6-2ubuntu1.4:
  
    network-manager (1.10.6-2ubuntu1.4) bionic; urgency=medium
  
      * d/p/start-ip-conf-when-master-carrier-goes-up.patch: device: start IP
        configuration when master carrier goes up (LP: #1794478)
  
     -- Seyeong Kim <seyeong.kim@canonical.com>  Wed, 19 Feb 2020 14:59:10 +0900
  
    network-manager (1.10.6-2ubuntu1.3) bionic; urgency=medium
  
      * d/t/control: nm test requires dnsmasq-base (LP: #1850267)
      * d/t/killswitches-no-urfkill, d/t/urfkill-integration,
        d/t/wpa-dhclient, d/t/nm, d/t/control:
        - skip tests on s390 due to missing wireless kernel support
          (LP: #1855009)
  
     -- Dan Streetman <ddstreet@canonical.com>  Wed, 04 Dec 2019 12:17:37 -0500
  
2020-02-24 network-manager 1.10.6-4

  [ Alfonso Sanchez-Beato <alfonso.sanchez-beato@canonical.com> ]
  * Find non-primed packages in an automated way
    Merge-Proposal: https://code.launchpad.net/~alfonsosanchezbeato/snappy-hwe-snaps/+git/network-manager/+merge/378943

  [ Changes in staged packages ]
  
  ppp (built from ppp) updated from 2.4.7-2+2ubuntu1.1 to 2.4.7-2+2ubuntu1.2:
  
    ppp (2.4.7-2+2ubuntu1.2) bionic-security; urgency=medium
  
      * SECURITY UPDATE: rhostname buffer overflow
        - debian/patches/CVE-2020-8597.patch: fix bounds check in EAP code in
          pppd/eap.c.
        - CVE-2020-8597
  
     -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Tue, 11 Feb 2020 10:05:26 -0500
  
2020-02-03 network-manager 1.10.6-3

  [ Alfonso Sanchez-Beato <alfonso.sanchez-beato@canonical.com> ]
  * Remove patches from the debian folder
    We take them from snap-patch now.
    
    Add phony part to stage compiled packages
    
    Remove version-script
    version-script is now deprecated.
    
    Add patches specific to the NM snap to snap-patch
    
    Follow applied branches from auto-import repos
    
    tests: run iptables from core snap now
    
    Set rc-manager=symlink for UC18 and later
    Otherwise, NM will call resolvconf even though it fails if UC version is
    newer than 16. To properly set DNS we need to set both dns and
    rc-manager options, but we were doing this only for the former. However,
    this did not have adverse effects as, as said, the call to resolvconf
    failed, while systemd-resolved was properly updated.
    
    Do not call dhcp-lease-mover anymore
    As it was not actually working anymore since we were not staging inotify
    anymore since a while.
    
    Specify explicitly copyrights to include
    Previously there were copyright files included from non-staged
    packages.
    
    Add unstage.txt file
    This file contains a list of debian package that we are not actually
    staging, although snapcraft adds them to manifest.yaml. CI now
    recognizes this file, and manually removes the listed packages from the
    manifest when releasing a snap to the store.
    
    Do not stage iptables/xtables
    iptables and all needed libraries are now included in the core18 snap,
    since revision 1049 (2019-06-27).
    
    Do not stage libs already in core18
    The libraries were not really included finally in the snap, but they
    were triggering CVE warnings from the review tools that did not actually
    apply.
    
    snap: call netplan apply using DBus
    Use DBus netplan interface to re-start network services after setting
    NetworkManager as the default renderer.
    
    snap: add network-setup-control interface
    Add network-setup-control interface so we can call 'netplan apply' from
    the snap.
    Merge-Proposal: https://code.launchpad.net/~alfonsosanchezbeato/snappy-hwe-snaps/+git/network-manager/+merge/378377
  * Change changelog file name to the standard one
    Merge-Proposal: https://code.launchpad.net/~alfonsosanchezbeato/snappy-hwe-snaps/+git/network-manager/+merge/378390
  * Unstage some packages from networkmananger-phony
    The networkmananger-phony part was staging as dependencies packages that
    we were not actually including in the snap. Add to the list of packages
    to unstage on release.
    Merge-Proposal: https://code.launchpad.net/~alfonsosanchezbeato/snappy-hwe-snaps/+git/network-manager/+merge/378467

  [ Changes in staged packages ]

  libnm0 (1.10.6-2ubuntu1.2): new staged package

  dnsmasq-base (2.79-1): new staged package

  network-manager (1.10.6-2ubuntu1.2): new staged package
  
  libpcap0.8 (built from libpcap) updated from 1.8.1-6ubuntu1 to 1.8.1-6ubuntu1.18.04.1:
  
    libpcap (1.8.1-6ubuntu1.18.04.1) bionic-security; urgency=medium
  
      * SECURITY UPDATE: pcapng reading buffer over-read.
        - debian/patches/CVE-2019-15165-1.patch: do sanity checks on PHB
          header length before allocating memory.
        - debian/patches/CVE-2019-15165-2.patch: fix introduced format
          warning
        - CVE-2019-15165
  
     -- Steve Beattie <sbeattie@ubuntu.com>  Thu, 21 Nov 2019 16:52:20 -0800
  
  libsasl2-2 (built from cyrus-sasl2) updated from 2.1.27~101-g0780600+dfsg-3ubuntu2 to 2.1.27~101-g0780600+dfsg-3ubuntu2.1:
  
    cyrus-sasl2 (2.1.27~101-g0780600+dfsg-3ubuntu2.1) bionic-security; urgency=medium
  
      * SECURITY UPDATE: Off-by-one
        - debian/patches/CVE-2019-19906.patch: fix in _sasl_add_string function
        - CVE-2019-19906
      * Thanks Debian for the patch provide that (Closes: #947043)
  
     -- Leonidas S. Barbosa <leo.barbosa@canonical.com>  Mon, 27 Jan 2020 16:25:33 -0300
  
  libkeyutils1: not staged anymore
  
  libgmp10: not staged anymore
  
  libldap-common: not staged anymore
  
  libk5crypto3: not staged anymore
  
  libtasn1-6: not staged anymore
  
  libip4tc0: not staged anymore
  
  libidn2-0: not staged anymore
  
  libffi6: not staged anymore
  
  libgcrypt20: not staged anymore
  
  libmount1: not staged anymore
  
  libkrb5support0: not staged anymore
  
  zlib1g: not staged anymore
  
  libiptc0: not staged anymore
  
  libxtables12: not staged anymore
  
  libcom-err2: not staged anymore
  
  libuuid1: not staged anymore
  
  libunistring2: not staged anymore
  
  libdbus-1-3: not staged anymore
  
  libselinux1: not staged anymore
  
  libpcre3: not staged anymore
  
  libssl1.1: not staged anymore
  
  libnettle6: not staged anymore
  
  libip6tc0: not staged anymore
  
  libgpg-error0: not staged anymore
  
  libglib2.0-0: not staged anymore
  
  libkrb5-3: not staged anymore
  
  libgssapi-krb5-2: not staged anymore
  
  iptables: not staged anymore
  
  libgnutls30: not staged anymore
  
  libblkid1: not staged anymore
  
  liblz4-1: not staged anymore
  
  libp11-kit0: not staged anymore
  
  init-system-helpers: not staged anymore
  
  libsqlite3-0: not staged anymore
  
  liblzma5: not staged anymore
  
  libhogweed4: not staged anymore
  
  libsasl2-modules-db: not staged anymore
  
2019-09-17 network-manager 1.10.6-2

  [ Alfonso Sanchez-Beato <alfonso.sanchez-beato@canonical.com> ]
  * Add missing bits to enable sharing connections and be able to access points. Fixes LP: #1832494.
    Merge-Proposal: https://code.launchpad.net/~alfonsosanchezbeato/network-manager/+git/network-manager/+merge/369325
  * snap: remove debug info
    
    Remove debug info, which was inadvertingly introduced in a previous
    commit. This reduces the snap size in two thirds.
    Merge-Proposal: https://code.launchpad.net/~alfonsosanchezbeato/network-manager/+git/network-manager/+merge/370807
  * snap: remove kernel-module-control interface
    
    The firewall-control interface already provides a kmod plug that makes
    sure the modules needed by ip tables are pre-loaded on boot.
    Merge-Proposal: https://code.launchpad.net/~alfonsosanchezbeato/network-manager/+git/network-manager/+merge/371197
  * snap: copy changelog to package
    Merge-Proposal: https://code.launchpad.net/~alfonsosanchezbeato/network-manager/+git/network-manager/+merge/372526

2019-06-19 network-manager 1.10.6-1

  [ Alfonso Sanchez-Beato <alfonso.sanchez-beato@canonical.com> ]
  * gitignore: ignore snaps and folder created by run-tests.sh
    Merge-Proposal: https://code.launchpad.net/~alfonsosanchezbeato/network-manager/+git/network-manager/+merge/368906

  [ unknown ]
  * This is manual merge of the NM 1.2 snap changes re-based on top
    of NM 1.10. It's also the first release of the snap from this git
    repository (vs. the network-manager snappy-hwe-team git repo).
    This branch was created from the bionic distro branch, and uses
    the distro patches, a snap support patch, and direct commits for
    snap packaging changes.
    
  * See more information in merge proposal
    
  * See more information in merge proposal
    
  * See more information in merge proposal
    
  * See more information in merge proposal
    
  * See more information in merge proposal
    
  * See more information in merge proposal
    
  * See more information in merge proposal
    
  * See more information in merge proposal
    
  * See more information in merge proposal
    
  * See more information in merge proposal
    

